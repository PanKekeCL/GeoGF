{"ast":null,"code":"import _objectSpread from\"C:/Users/sebao/OneDrive/Documentos/GitHub/GeoGF/api-geogf/data/template2_copy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const data={\"_id\":\"679bbd2db73000d63b65527e\",\"nombre\":\"Emparejar 30\",\"descripcion\":\"\",\"tipo\":\"Emparejar\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[-73.24976992608755,-39.804898854437646]},\"paginas\":[{\"enunciado\":\"Une el Beacon con su Imagen\",\"tipoIzquierdo\":\"imagen\",\"tipoDerecho\":\"\",\"parejas\":[{\"textoIzquierdo\":\"\",\"textoDerecho\":\"Beacon\",\"imagenIzquierda\":\"../../images/Emparejar30_pagina_1_pareja_1.png\",\"imagenDerecha\":\"\"}]}]};const Emparejar=()=>{const[currentPage,setCurrentPage]=useState(0);const[selectedPairs,setSelectedPairs]=useState({});const[answerVerified,setAnswerVerified]=useState(false);const[correctAnswers,setCorrectAnswers]=useState(0);const[startTime,setStartTime]=useState(Date.now());const navigate=useNavigate();useEffect(()=>{if(data.shufflePages){data.paginas.sort(()=>Math.random()-0.5);}},[]);const handleDragStart=(e,id,side)=>{e.dataTransfer.setData(\"id\",id);e.dataTransfer.setData(\"side\",side);};const handleDrop=(e,id,side)=>{const draggedId=e.dataTransfer.getData(\"id\");const draggedSide=e.dataTransfer.getData(\"side\");if(side!==draggedSide){setSelectedPairs(prev=>_objectSpread(_objectSpread({},prev),{},{[draggedSide===\"left\"?id:draggedId]:draggedSide===\"left\"?draggedId:id}));}};const verifyAnswer=()=>{const pagina=data.paginas[currentPage];let correctCount=0;pagina.conceptos.forEach((concepto,index)=>{if(selectedPairs[index]===\"\".concat(index)){correctCount++;}});setCorrectAnswers(correctAnswers+correctCount);setAnswerVerified(true);};const nextPage=()=>{setAnswerVerified(false);setSelectedPairs({});if(currentPage+1<data.paginas.length){setCurrentPage(currentPage+1);}else{const finalTime=Math.floor((Date.now()-startTime)/1000);alert(\"Correct answers: \".concat(correctAnswers,\". Time: \").concat(finalTime,\" seconds.\"));navigate(\"/map\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-md mx-auto bg-white shadow-lg rounded-lg\",children:[currentPage===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:data.nombre}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4\",children:data.descripcion}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded\",onClick:()=>setCurrentPage(1),children:\"Jugar\"})]}),currentPage>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:data.paginas[currentPage-1].enunciado}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:data.paginas[currentPage-1].conceptos.map((concepto,index)=>/*#__PURE__*/_jsx(\"div\",{draggable:true,onDragStart:e=>handleDragStart(e,\"\".concat(index),\"left\"),className:\"p-2 bg-gray-200 rounded mb-2\",children:data.paginas[currentPage-1].tipoIzquierdo===\"Texto\"?concepto.TextoIzquierdo:/*#__PURE__*/_jsx(\"img\",{src:concepto.ImagenIzquierda,alt:\"\"})},index))}),/*#__PURE__*/_jsx(\"div\",{children:data.paginas[currentPage-1].conceptos.map((concepto,index)=>/*#__PURE__*/_jsx(\"div\",{onDrop:e=>handleDrop(e,\"\".concat(index),\"right\"),onDragOver:e=>e.preventDefault(),className:\"p-2 bg-gray-200 rounded mb-2\",children:data.paginas[currentPage-1].tipoDerecho===\"Texto\"?concepto.TextoDerecho:/*#__PURE__*/_jsx(\"img\",{src:concepto.ImagenDerecha,alt:\"\"})},index))})]}),!answerVerified?/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white px-4 py-2 rounded mt-4\",onClick:verifyAnswer,children:\"Comprobar\"}):/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded mt-4\",onClick:nextPage,children:\"Siguiente\"}),answerVerified&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-4\",children:\"Correctos: \".concat(correctAnswers,\" / \").concat(data.paginas[currentPage-1].conceptos.length)})]})]});};export default Emparejar;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","data","Emparejar","currentPage","setCurrentPage","selectedPairs","setSelectedPairs","answerVerified","setAnswerVerified","correctAnswers","setCorrectAnswers","startTime","setStartTime","Date","now","navigate","shufflePages","paginas","sort","Math","random","handleDragStart","e","id","side","dataTransfer","setData","handleDrop","draggedId","getData","draggedSide","prev","_objectSpread","verifyAnswer","pagina","correctCount","conceptos","forEach","concepto","index","concat","nextPage","length","finalTime","floor","alert","className","children","nombre","descripcion","onClick","enunciado","map","draggable","onDragStart","tipoIzquierdo","TextoIzquierdo","src","ImagenIzquierda","alt","onDrop","onDragOver","preventDefault","tipoDerecho","TextoDerecho","ImagenDerecha"],"sources":["C:/Users/sebao/OneDrive/Documentos/GitHub/GeoGF/api-geogf/data/template2_copy/src/pages/minigames/emparejar_30.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst data = {\"_id\":\"679bbd2db73000d63b65527e\",\"nombre\":\"Emparejar 30\",\"descripcion\":\"\",\"tipo\":\"Emparejar\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[-73.24976992608755,-39.804898854437646]},\"paginas\":[{\"enunciado\":\"Une el Beacon con su Imagen\",\"tipoIzquierdo\":\"imagen\",\"tipoDerecho\":\"\",\"parejas\":[{\"textoIzquierdo\":\"\",\"textoDerecho\":\"Beacon\",\"imagenIzquierda\":\"../../images/Emparejar30_pagina_1_pareja_1.png\",\"imagenDerecha\":\"\"}]}]};\r\n\r\nconst Emparejar = () => {\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [selectedPairs, setSelectedPairs] = useState({});\r\n    const [answerVerified, setAnswerVerified] = useState(false);\r\n    const [correctAnswers, setCorrectAnswers] = useState(0);\r\n    const [startTime, setStartTime] = useState(Date.now());\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (data.shufflePages) {\r\n            data.paginas.sort(() => Math.random() - 0.5);\r\n        }\r\n    }, []);\r\n\r\n    const handleDragStart = (e, id, side) => {\r\n        e.dataTransfer.setData(\"id\", id);\r\n        e.dataTransfer.setData(\"side\", side);\r\n    };\r\n\r\n    const handleDrop = (e, id, side) => {\r\n        const draggedId = e.dataTransfer.getData(\"id\");\r\n        const draggedSide = e.dataTransfer.getData(\"side\");\r\n        \r\n        if (side !== draggedSide) {\r\n            setSelectedPairs((prev) => ({\r\n                ...prev,\r\n                [draggedSide === \"left\" ? id : draggedId]: draggedSide === \"left\" ? draggedId : id,\r\n            }));\r\n        }\r\n    };\r\n\r\n    const verifyAnswer = () => {\r\n        const pagina = data.paginas[currentPage];\r\n        let correctCount = 0;\r\n\r\n        pagina.conceptos.forEach((concepto, index) => {\r\n            if (selectedPairs[index] === `${index}`) {\r\n                correctCount++;\r\n            }\r\n        });\r\n\r\n        setCorrectAnswers(correctAnswers + correctCount);\r\n        setAnswerVerified(true);\r\n    };\r\n\r\n    const nextPage = () => {\r\n        setAnswerVerified(false);\r\n        setSelectedPairs({});\r\n        if (currentPage + 1 < data.paginas.length) {\r\n            setCurrentPage(currentPage + 1);\r\n        } else {\r\n            const finalTime = Math.floor((Date.now() - startTime) / 1000);\r\n            alert(`Correct answers: ${correctAnswers}. Time: ${finalTime} seconds.`);\r\n            navigate(\"/map\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 max-w-md mx-auto bg-white shadow-lg rounded-lg\">\r\n            {currentPage === 0 && (\r\n                <>\r\n                    <h1 className=\"text-2xl font-bold mb-4\">{data.nombre}</h1>\r\n                    <p className=\"text-gray-700 mb-4\">{data.descripcion}</p>\r\n                    <button\r\n                        className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n                        onClick={() => setCurrentPage(1)}\r\n                    >\r\n                        Jugar\r\n                    </button>\r\n                </>\r\n            )}\r\n            {currentPage > 0 && (\r\n                <>\r\n                    <h2 className=\"text-xl font-semibold mb-2\">{data.paginas[currentPage - 1].enunciado}</h2>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                            {data.paginas[currentPage - 1].conceptos.map((concepto, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    draggable\r\n                                    onDragStart={(e) => handleDragStart(e, `${index}`, \"left\")}\r\n                                    className=\"p-2 bg-gray-200 rounded mb-2\"\r\n                                >\r\n                                    {data.paginas[currentPage - 1].tipoIzquierdo === \"Texto\"\r\n                                        ? concepto.TextoIzquierdo\r\n                                        : <img src={concepto.ImagenIzquierda} alt=\"\" />}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div>\r\n                            {data.paginas[currentPage - 1].conceptos.map((concepto, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    onDrop={(e) => handleDrop(e, `${index}`, \"right\")}\r\n                                    onDragOver={(e) => e.preventDefault()}\r\n                                    className=\"p-2 bg-gray-200 rounded mb-2\"\r\n                                >\r\n                                    {data.paginas[currentPage - 1].tipoDerecho === \"Texto\"\r\n                                        ? concepto.TextoDerecho\r\n                                        : <img src={concepto.ImagenDerecha} alt=\"\" />}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    {!answerVerified ? (\r\n                        <button\r\n                            className=\"bg-green-500 text-white px-4 py-2 rounded mt-4\"\r\n                            onClick={verifyAnswer}\r\n                        >\r\n                            Comprobar\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            className=\"bg-blue-500 text-white px-4 py-2 rounded mt-4\"\r\n                            onClick={nextPage}\r\n                        >\r\n                            Siguiente\r\n                        </button>\r\n                    )}\r\n                    {answerVerified && (\r\n                        <p className=\"mt-4\">\r\n                            {`Correctos: ${correctAnswers} / ${data.paginas[currentPage - 1].conceptos.length}`}\r\n                        </p>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Emparejar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}