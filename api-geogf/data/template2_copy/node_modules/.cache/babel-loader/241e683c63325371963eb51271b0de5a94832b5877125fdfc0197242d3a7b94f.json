{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const data={\"_id\":\"679bc54eb73000d63b65527f\",\"nombre\":\"Trivia 30\",\"descripcion\":\"\",\"tipo\":\"Trivia\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[-73.25103056432454,-39.803365788006914]},\"paginas\":[{\"enunciado\":\"Cuanto miden los Olivillos\",\"imagen\":\"../../images/Trivia30_pagina_1.jpg\",\"mezclarRespuestas\":false,\"respuestas\":[{\"texto\":\"10 metros\",\"correcta\":false},{\"texto\":\"20 metros\",\"correcta\":true},{\"texto\":\"30 metros\",\"correcta\":false}]}]};const Trivia=()=>{const[currentPage,setCurrentPage]=useState(0);const[selectedOption,setSelectedOption]=useState(null);const[answerVerified,setAnswerVerified]=useState(false);const[correctAnswers,setCorrectAnswers]=useState(0);const[startTime,setStartTime]=useState(Date.now());const navigate=useNavigate();useEffect(()=>{if(data.shufflePages){data.paginas.sort(()=>Math.random()-0.5);}},[]);const handleSelection=index=>{setSelectedOption(index);};const verifyAnswer=()=>{if(selectedOption===null)return;const isCorrect=data.paginas[currentPage].respuestas[selectedOption].correcto;if(isCorrect)setCorrectAnswers(correctAnswers+1);setAnswerVerified(true);};const nextPage=()=>{setAnswerVerified(false);setSelectedOption(null);if(currentPage+1<data.paginas.length){setCurrentPage(currentPage+1);}else{const finalTime=Math.floor((Date.now()-startTime)/1000);alert(\"Correct answers: \".concat(correctAnswers,\". Time: \").concat(finalTime,\" seconds.\"));navigate(\"/map\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-md mx-auto bg-white shadow-lg rounded-lg\",children:[currentPage===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:data.nombre}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4\",children:data.descripcion}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded\",onClick:()=>setCurrentPage(1),children:\"Jugar\"})]}),currentPage>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:data.paginas[currentPage-1].enunciado}),data.paginas[currentPage-1].imagen&&/*#__PURE__*/_jsx(\"img\",{src:data.paginas[currentPage-1].imagen,alt:\"Imagen\",className:\"mb-4 w-full h-auto rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2 mb-4\",children:data.paginas[currentPage-1].respuestas.map((answer,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"p-2 rounded \".concat(selectedOption===index?\"bg-blue-300\":\"bg-gray-200\"),onClick:()=>handleSelection(index),disabled:answerVerified,children:answer.texto},index))}),!answerVerified?/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white px-4 py-2 rounded\",onClick:verifyAnswer,children:\"Comprobar\"}):/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded\",onClick:nextPage,children:\"Siguiente\"}),answerVerified&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-4\",children:data.paginas[currentPage-1].respuestas[selectedOption].correcto?\"Correcto!\":\"Incorrecto. Las respuestas correctas eran: \"+data.paginas[currentPage-1].respuestas.find(a=>a.correcto).texto})]})]});};export default Trivia;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","data","Trivia","currentPage","setCurrentPage","selectedOption","setSelectedOption","answerVerified","setAnswerVerified","correctAnswers","setCorrectAnswers","startTime","setStartTime","Date","now","navigate","shufflePages","paginas","sort","Math","random","handleSelection","index","verifyAnswer","isCorrect","respuestas","correcto","nextPage","length","finalTime","floor","alert","concat","className","children","nombre","descripcion","onClick","enunciado","imagen","src","alt","map","answer","disabled","texto","find","a"],"sources":["C:/Users/sebao/OneDrive/Documentos/GitHub/GeoGF/api-geogf/data/template2_copy/src/pages/minigames/trivia_30.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst data = {\"_id\":\"679bc54eb73000d63b65527f\",\"nombre\":\"Trivia 30\",\"descripcion\":\"\",\"tipo\":\"Trivia\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[-73.25103056432454,-39.803365788006914]},\"paginas\":[{\"enunciado\":\"Cuanto miden los Olivillos\",\"imagen\":\"../../images/Trivia30_pagina_1.jpg\",\"mezclarRespuestas\":false,\"respuestas\":[{\"texto\":\"10 metros\",\"correcta\":false},{\"texto\":\"20 metros\",\"correcta\":true},{\"texto\":\"30 metros\",\"correcta\":false}]}]};\r\n\r\nconst Trivia = () => {\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [selectedOption, setSelectedOption] = useState(null);\r\n    const [answerVerified, setAnswerVerified] = useState(false);\r\n    const [correctAnswers, setCorrectAnswers] = useState(0);\r\n    const [startTime, setStartTime] = useState(Date.now());\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (data.shufflePages) {\r\n            data.paginas.sort(() => Math.random() - 0.5);\r\n        }\r\n    }, []);\r\n\r\n    const handleSelection = (index) => {\r\n        setSelectedOption(index);\r\n    };\r\n\r\n    const verifyAnswer = () => {\r\n        if (selectedOption === null) return;\r\n        const isCorrect = data.paginas[currentPage].respuestas[selectedOption].correcto;\r\n        if (isCorrect) setCorrectAnswers(correctAnswers + 1);\r\n        setAnswerVerified(true);\r\n    };\r\n\r\n    const nextPage = () => {\r\n        setAnswerVerified(false);\r\n        setSelectedOption(null);\r\n        if (currentPage + 1 < data.paginas.length) {\r\n            setCurrentPage(currentPage + 1);\r\n        } else {\r\n            const finalTime = Math.floor((Date.now() - startTime) / 1000);\r\n            alert(`Correct answers: ${correctAnswers}. Time: ${finalTime} seconds.`);\r\n            navigate(\"/map\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 max-w-md mx-auto bg-white shadow-lg rounded-lg\">\r\n            {currentPage === 0 && (\r\n                <>\r\n                    <h1 className=\"text-2xl font-bold mb-4\">{data.nombre}</h1>\r\n                    <p className=\"text-gray-700 mb-4\">{data.descripcion}</p>\r\n                    <button\r\n                        className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n                        onClick={() => setCurrentPage(1)}\r\n                    >\r\n                        Jugar\r\n                    </button>\r\n                </>\r\n            )}\r\n            {currentPage > 0 && (\r\n                <>\r\n                    <h2 className=\"text-xl font-semibold mb-2\">{data.paginas[currentPage - 1].enunciado}</h2>\r\n                    {data.paginas[currentPage - 1].imagen && (\r\n                        <img\r\n                            src={data.paginas[currentPage - 1].imagen}\r\n                            alt=\"Imagen\"\r\n                            className=\"mb-4 w-full h-auto rounded\"\r\n                        />\r\n                    )}\r\n                    <div className=\"grid grid-cols-2 gap-2 mb-4\">\r\n                        {data.paginas[currentPage - 1].respuestas.map((answer, index) => (\r\n                            <button\r\n                                key={index}\r\n                                className={`p-2 rounded ${\r\n                                    selectedOption === index\r\n                                        ? \"bg-blue-300\"\r\n                                        : \"bg-gray-200\"\r\n                                }`}\r\n                                onClick={() => handleSelection(index)}\r\n                                disabled={answerVerified}\r\n                            >\r\n                                {answer.texto}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                    {!answerVerified ? (\r\n                        <button\r\n                            className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n                            onClick={verifyAnswer}\r\n                        >\r\n                            Comprobar\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n                            onClick={nextPage}\r\n                        >\r\n                            Siguiente\r\n                        </button>\r\n                    )}\r\n                    {answerVerified && (\r\n                        <p className=\"mt-4\">\r\n                            {data.paginas[currentPage - 1].respuestas[selectedOption].correcto\r\n                                ? \"Correcto!\"\r\n                                : \"Incorrecto. Las respuestas correctas eran: \" +\r\n                                  data.paginas[currentPage - 1].respuestas.find((a) => a.correcto).texto}\r\n                        </p>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Trivia;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}