{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const data={\"_id\":\"679bc5f7b73000d63b655280\",\"nombre\":\"Ordenar 30\",\"descripcion\":\"\",\"tipo\":\"Ordenar\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[-73.24845457080302,-39.80486341294013]},\"paginas\":[{\"enunciado\":\"Ordena el crecimiento correcto de los arboles.\",\"tipoConcepto\":\"imagen\",\"conceptos\":[{\"texto\":\"\",\"imagen\":\"../../images/Ordenar30_pagina_1_concepto_1.jpg\"},{\"texto\":\"\",\"imagen\":\"../../images/Ordenar30_pagina_1_concepto_2.jpg\"},{\"texto\":\"\",\"imagen\":\"../../images/Ordenar30_pagina_1_concepto_3.png\"}]}]};const Ordenar=()=>{const[currentPage,setCurrentPage]=useState(0);const[concepts,setConcepts]=useState([]);const[answerVerified,setAnswerVerified]=useState(false);const[correctIndexes,setCorrectIndexes]=useState([]);const navigate=useNavigate();useEffect(()=>{if(data.shufflePages){data.paginas.sort(()=>Math.random()-0.5);}setConcepts(shuffleArray(data.paginas[currentPage].conceptos));},[currentPage]);const shuffleArray=array=>{return array.sort(()=>Math.random()-0.5);};const handleDragStart=(e,index)=>{e.dataTransfer.setData(\"index\",index);};const handleDrop=(e,index)=>{const draggedIndex=e.dataTransfer.getData(\"index\");const updatedConcepts=[...concepts];const[draggedItem]=updatedConcepts.splice(draggedIndex,1);updatedConcepts.splice(index,0,draggedItem);setConcepts(updatedConcepts);};const handleDragOver=e=>{e.preventDefault();};const verifyAnswer=()=>{const correctConcepts=data.paginas[currentPage].conceptos;const correctIndexes=concepts.map((concept,index)=>concept.texto===correctConcepts[index].texto&&concept.imagen===correctConcepts[index].imagen?index:-1);setCorrectIndexes(correctIndexes);setAnswerVerified(true);};const nextPage=()=>{setAnswerVerified(false);setCorrectIndexes([]);if(currentPage+1<data.paginas.length){setCurrentPage(currentPage+1);}else{navigate(\"/map\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-md mx-auto bg-white shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:data.paginas[currentPage].enunciado}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:concepts.map((concept,index)=>/*#__PURE__*/_jsx(\"div\",{draggable:true,onDragStart:e=>handleDragStart(e,index),onDrop:e=>handleDrop(e,index),onDragOver:handleDragOver,className:\"p-2 mb-2 rounded \".concat(correctIndexes.includes(index)?\"bg-green-300\":\"bg-gray-200\"),children:data.paginas[currentPage].tipoConcepto===\"texto\"?/*#__PURE__*/_jsx(\"span\",{children:concept.texto}):/*#__PURE__*/_jsx(\"img\",{src:concept.imagen,alt:\"\",className:\"w-full h-auto\"})},index))}),!answerVerified?/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white px-4 py-2 rounded\",onClick:verifyAnswer,children:\"Comprobar\"}):/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded\",onClick:nextPage,children:\"Siguiente\"})]});};export default Ordenar;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","data","Ordenar","currentPage","setCurrentPage","concepts","setConcepts","answerVerified","setAnswerVerified","correctIndexes","setCorrectIndexes","navigate","shufflePages","paginas","sort","Math","random","shuffleArray","conceptos","array","handleDragStart","e","index","dataTransfer","setData","handleDrop","draggedIndex","getData","updatedConcepts","draggedItem","splice","handleDragOver","preventDefault","verifyAnswer","correctConcepts","map","concept","texto","imagen","nextPage","length","className","children","enunciado","draggable","onDragStart","onDrop","onDragOver","concat","includes","tipoConcepto","src","alt","onClick"],"sources":["C:/Users/sebao/OneDrive/Documentos/GitHub/GeoGF/api-geogf/data/template2_copy/src/pages/minigames/ordenar_30.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst data = {\"_id\":\"679bc5f7b73000d63b655280\",\"nombre\":\"Ordenar 30\",\"descripcion\":\"\",\"tipo\":\"Ordenar\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[-73.24845457080302,-39.80486341294013]},\"paginas\":[{\"enunciado\":\"Ordena el crecimiento correcto de los arboles.\",\"tipoConcepto\":\"imagen\",\"conceptos\":[{\"texto\":\"\",\"imagen\":\"../../images/Ordenar30_pagina_1_concepto_1.jpg\"},{\"texto\":\"\",\"imagen\":\"../../images/Ordenar30_pagina_1_concepto_2.jpg\"},{\"texto\":\"\",\"imagen\":\"../../images/Ordenar30_pagina_1_concepto_3.png\"}]}]};\r\n\r\nconst Ordenar = () => {\r\n    const [currentPage, setCurrentPage] = useState(0);\r\n    const [concepts, setConcepts] = useState([]);\r\n    const [answerVerified, setAnswerVerified] = useState(false);\r\n    const [correctIndexes, setCorrectIndexes] = useState([]);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (data.shufflePages) {\r\n            data.paginas.sort(() => Math.random() - 0.5);\r\n        }\r\n        setConcepts(shuffleArray(data.paginas[currentPage].conceptos));\r\n    }, [currentPage]);\r\n\r\n    const shuffleArray = (array) => {\r\n        return array.sort(() => Math.random() - 0.5);\r\n    };\r\n\r\n    const handleDragStart = (e, index) => {\r\n        e.dataTransfer.setData(\"index\", index);\r\n    };\r\n\r\n    const handleDrop = (e, index) => {\r\n        const draggedIndex = e.dataTransfer.getData(\"index\");\r\n        const updatedConcepts = [...concepts];\r\n        const [draggedItem] = updatedConcepts.splice(draggedIndex, 1);\r\n        updatedConcepts.splice(index, 0, draggedItem);\r\n        setConcepts(updatedConcepts);\r\n    };\r\n\r\n    const handleDragOver = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const verifyAnswer = () => {\r\n        const correctConcepts = data.paginas[currentPage].conceptos;\r\n        const correctIndexes = concepts.map((concept, index) =>\r\n            concept.texto === correctConcepts[index].texto && concept.imagen === correctConcepts[index].imagen ? index : -1\r\n        );\r\n        setCorrectIndexes(correctIndexes);\r\n        setAnswerVerified(true);\r\n    };\r\n\r\n    const nextPage = () => {\r\n        setAnswerVerified(false);\r\n        setCorrectIndexes([]);\r\n        if (currentPage + 1 < data.paginas.length) {\r\n            setCurrentPage(currentPage + 1);\r\n        } else {\r\n            navigate(\"/map\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 max-w-md mx-auto bg-white shadow-lg rounded-lg\">\r\n            <h2 className=\"text-xl font-semibold mb-2\">{data.paginas[currentPage].enunciado}</h2>\r\n            <div className=\"mb-4\">\r\n                {concepts.map((concept, index) => (\r\n                    <div\r\n                        key={index}\r\n                        draggable\r\n                        onDragStart={(e) => handleDragStart(e, index)}\r\n                        onDrop={(e) => handleDrop(e, index)}\r\n                        onDragOver={handleDragOver}\r\n                        className={`p-2 mb-2 rounded ${\r\n                            correctIndexes.includes(index) ? \"bg-green-300\" : \"bg-gray-200\"\r\n                        }`}\r\n                    >\r\n                        {data.paginas[currentPage].tipoConcepto === \"texto\" ? (\r\n                            <span>{concept.texto}</span>\r\n                        ) : (\r\n                            <img src={concept.imagen} alt=\"\" className=\"w-full h-auto\" />\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            {!answerVerified ? (\r\n                <button\r\n                    className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n                    onClick={verifyAnswer}\r\n                >\r\n                    Comprobar\r\n                </button>\r\n            ) : (\r\n                <button\r\n                    className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n                    onClick={nextPage}\r\n                >\r\n                    Siguiente\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Ordenar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}